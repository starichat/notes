<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lazyload 3</title>
	<style>
	    img {
		display: block;
		margin-bottom: 50px;
		width: 800px;
	    }
    </style>
</head>
<body>
    <div id="log">
       
    </div>
    
    <script>
    var arr = [11,12,1,3,11,12,1,3,1111,12,1,3,1111,12,1,3,1111,12,1,3,1111,12,1,3,1111,12,1,3,1111,12,1,3,1111,12,1,3,1111,12,1,3,1111,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,11,12,1,3,]
    // 创建一个所有的数组元素
    var logdiv = document.getElementById("log");
    for(var i = 0;i<arr.length;i++){
        var span = document.createElement("span");
        span.setAttribute("id",i);
        var br = document.createElement("br");
        logdiv.appendChild(span);
        logdiv.appendChild(br);   
    }
       
	function query(selector) {
        
	    return Array.from(document.querySelectorAll(selector));
	}
    
	var io = new IntersectionObserver(function(items) {
	    items.forEach(function(item) {
            
            item.target.innerHTML=arr[item.target.getAttribute("id")];
            console.log(item.target.innerHTML);
            io.unobserve(item.target)
        
		
	    })
	});
	query('span').forEach(function(item) {
	    io.observe(item);
       
	});
    </script>
</body>
</html>